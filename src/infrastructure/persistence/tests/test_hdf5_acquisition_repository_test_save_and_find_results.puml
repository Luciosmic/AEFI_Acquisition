@startuml
title Sequence Diagram: test_save_and_find
autonumber
skinparam responseMessageBelowArrow true
"Test" -> "HDF5Repository" : **CREATE** Initialize repository at persistence/tests/test_data
note right
Data: {
  "path": "/Users/luis/Library/CloudStorage/Dropbox/Luis/1 PROJETS/1 - THESE/Ressources/ExperimentalData_ASSOCE/AEFI_Acquisition/Legacy_AEFI_Acquisition/EFImagingBench_App/src/infrastructure/persist...
end note
"Test" -> "HDF5Repository" : **CALL** Save sample
note right
Data: {
  "scan_id": "scan_test_123"
}
end note
"Test" -> "HDF5Repository" : **QUERY** Find by scan
note right
Data: {
  "scan_id": "scan_test_123"
}
end note
"Test" -> "HDF5Repository" : **ASSERT** Verify retrieved count
note right
Expect: 1
Got: 1
end note
"Test" -> "HDF5Repository" : **ASSERT** Verify X in-phase
note right
Expect: 1.0
Got: 1.0
end note
@enduml