---
description:
globs:
alwaysApply: false
---

Pour gérer un processus d'acquisition dans le cadre d'un projet de recherche, on utilise une logique 
Hardware Controller <-> AcquisitionManager <-> User Interface

Un signal de l'UI passe par l'AcquisitionManager et : 
- redescend vers l'UI pour synchronisation
- le signal est envoyé au controller si besoin


L'AcquisitionManager a toujours accès à trois modules :
- ModeController_Module : 
    On a toujours deux modes minimum, un mode pour l'exploration laissant l'UI active et un mode
    pour l'export de données qui verouille l'UI afin de ne pas pouvoir interférer avec la mesure.
- DataBuffer_Module : Stocke les données de lecture afin d'assurer un flux unique et optimisé de communication avec le Hardware Controller. TOUT Besoin d'accès à de la donnée se fait via la lecture du Buffer, par exemple pour l'affichage dans l'UI.
- CSVexporter_Module : Gère l'export des données et la génération du fichier .csv


Voici la structure à suivre pour l'AcquisitionManager, avec des méthodes d'exemple devant être adaptées au besoin :

# --- Imports & Constantes ---

- Gestion des PATH
- Import des modules
- Constantes globales


class AcquisitionManager(QObject):
    # --- Initialisation & Configuration ---
    def __init__(...): ...
    def _init_buffers(...): ...
    def _init_signals(...): ...
    
    # --- API Publique de Contrôle ---
    def start_acquisition(...): ...
    def stop_acquisition(...): ...
    def pause_acquisition(...): ...
    def resume_acquisition(...): ...
    def update_configuration(...): ...
    def set_mode(...): ...
    
    # --- Gestion des Threads & Workers ---
    def _acquisition_worker(...): ...
    def _apply_configuration(...): ...
    def _acquire_sample(...): ...
    
    # --- Buffer & Données ---
    def get_latest_samples(...): ...
    def get_historical_data(...): ...
    def get_buffer_status(...): ...
    def clear_buffer(...): ...
    
    # --- Gestion des Signaux/Callbacks ---
    def add_data_callback(...): ...
    def add_status_callback(...): ...
    
    # --- Pass-through Hardware/Backend ---
    def connect(...): ...
    def disconnect(...): ...
    def set_adc_gain(...): ...
    # etc.
    
    # --- Fermeture & Nettoyage ---
    def close(...): ...