@startuml
title Sequence Diagram: test_handle_scan_point_acquired
autonumber
skinparam responseMessageBelowArrow true
"Test" -> "AcquisitionDataHandler" : **CREATE** Initialize handler with mock repo
"Test" -> "EventBus" : **PUBLISH** Simulate ScanPointAcquired event
note right
Data: {
  "scan_id": "067ae38c-8725-4256-a8f3-41a6f4605e7d"
}
end note
"EventBus" -> "AcquisitionDataHandler" : **RECEIVE** Handle event
"AcquisitionDataHandler" -> "Repository" : **CALL** Save data
note right
Data: {
  "scan_id": "067ae38c-8725-4256-a8f3-41a6f4605e7d"
}
end note
"Test" -> "Repository" : **ASSERT** Verify save called with correct scan_id
note right
Expect: 067ae38c-8725-4256-a8f3-41a6f4605e7d
Got: 067ae38c-8725-4256-a8f3-41a6f4605e7d
end note
"Test" -> "Repository" : **ASSERT** Verify save called with correct data
note right
Expect: 1
Got: 1
end note
@enduml